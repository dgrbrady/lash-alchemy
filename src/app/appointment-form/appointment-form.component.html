<div class="container">
  <H1>Appointment Form</H1>
  {{diagnostic}}
  <form #appointmentForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="name">What's your name?</label>
      <input [(ngModel)]="model.clientName" #name="ngModel" type="text" class="form-control" id="name" name="name" required>
      <div [hidden]="name.valid || name.pristine" class="alert alert-danger">Name is required</div>
    </div>
    <div class="form-group">
      <label for="product">Product</label>
      <select [(ngModel)]="model.product" class="form-control" id="product" name="product" required>
        <option *ngFor="let product of products" [value]="product">{{product}}</option>
      </select>
    </div>
    <div class="row justify-content-between form-group">
      <div class="col">
        <label for="date">Pick a day</label>
        <div class="input-group">
          <input [(ngModel)]="model.date" ngbDatepicker #d="ngbDatepicker" (change)="selectDate($event)" (dateSelect)="selectDate($event)"
              [markDisabled]="isDayDisabled" #dateInput class="form-control" placeholder="yyyy-mm-dd" name="dp">
          <div class="input-group-append">
            <button class="btn btn-sm btn-outline-secondary" (click)="d.toggle()" type="button">Pick a Day</button>
          </div>
        </div>
      </div>
      <div class="col">
        <label for="time">Pick a time</label>
        <select #timeSelect [(ngModel)]="model.time" class="form-control" id="time" name="time" (change)="selectTime($event)" required>
          <option *ngFor="let time of times" [value]="time">{{time}}</option>
        </select>
      </div>
    </div>
    <div class="form-group">
      <label for="phone">Phone Number</label>
      <input [(ngModel)]="model.phoneNumber" type="tel" class="form-control" id="phone" name="phone" required>
    </div>
    <div class="form-group">
      <label for="email">Email Address</label>
      <input [(ngModel)]="model.email" type="email" class="form-control" id="email" name="email" required>
    </div>
    <button [disabled]="!appointmentForm.form.valid" type="submit" class="btn btn-primary">Submit</button>
  </form>
</div>
